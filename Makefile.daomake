
PLATS = linux macosx freebsd mingw minix haiku

MODE ?= release
INSTALL ?= /usr/local
SRCDIR ?= .
SUFFIX ?=
STATIC ?= OFF
JAVASCRIPT ?= OFF
RESET ?=

#export EMCC="python /Users/min/SoftwareDevs/emscripten/emcc"

$(PLATS) :
	cd $(SRCDIR)/tools/daomake/bootstrap && $(MAKE) $@
	$(SRCDIR)/tools/daomake/bootstrap/daomake --mode $(MODE) --platform $@ --option-INSTALL-PATH $(INSTALL) --option-STATIC $(STATIC) --option-JAVASCRIPT $(JAVASCRIPT) $(RESET) $(SRCDIR)
	$(MAKE) -f Makefile$(SUFFIX)

